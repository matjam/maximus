deb all
path .;wcpd
sys os2 dll initi

name ..\dll\mexvm.dll
opt modname=mexvm

opt desc 'MEXVM (MEX 16-bit Virtual Machine)'
opt verb
opt map=..\map\mex\mexvm.map

file
{
        vm_dll
        vm_run
        vm_heap
        vm_symt
        vm_read
        vm_opcvt
        vm_opflo
        vm_opfun
        vm_opmth
        vm_opstk
        vm_opstr
}

segment class 'CODE' preload executeread share
opt eliminate

lib clibdll.lib
lib doscalls.lib
lib ..\lib\wcplibl.lib

export REGS_1.1
export REGS_2.2
export REGS_4.3
export MEXEXECUTE.4
export MEXFETCH.5
export MEXDSEG.6
export MEXENTERSYMTAB.7
export MEXSTOREBYTE.8
export MEXSTOREWORD.9
export MEXSTOREDWORD.10
export MEXSTORESTRING.11
export MEXSTORESTRINGAT.12
export MEXKILLSTRING.13
export MEXPTRTOVM.14
export MEXSTOREBYTESTRINGAT.15
export MEXIADDRTOVM.16
export MEXSTOREHEAPBYTESTRING.17
export REGS_6.18
export MEXRTERROR.19

opt nodef,prot,many,case,newf


